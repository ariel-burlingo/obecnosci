<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.prime.com.tr/ui"
   template="/WEB-INF/templates/default.xhtml">
   
   <ui:define name="content">

		<h:form>
			<p:dataTable value="#{prowadzacyBean.wszystkichProwadzacych}"  var="rec">
			<p:column  style="width:50px">
					<f:facet name="header">
                    ID
            </f:facet>
					<h:outputText value="#{rec.id}" />
				</p:column>

				<p:column>
					<f:facet name="header">
                    IMIE
            </f:facet>
					<h:outputText value="#{rec.imie}" />
				</p:column>
				<p:column>
					<f:facet name="header">
                    NAZWISKO
            </f:facet>
					<h:outputText value="#{rec.nazwisko}" />
				</p:column>
				<p:column>
					<f:facet name="header">
                    DANE KONTAKTOWE
            </f:facet>
					<h:outputText value="#{rec.daneKontaktowe}" />
				</p:column>
				<p:column>
					<f:facet name="header">
                    STRONA DOMOWA
            </f:facet>
					<h:outputText value="#{rec.stronaDomowa}" />
				</p:column>
				</p:dataTable>
		</h:form>
		<h:form>	
		<p:panel id="panel" header="Nowy Prowadzacy" style="margin-bottom:10px;">  
        <p:messages />  
        <h:panelGrid columns="2">  
            <h:outputLabel for="imie" value="Imie: " />  
            <p:inputText id="imie" value="#{prowadzacyBean.imie}" required="true" label="Imie">    
            </p:inputText>  
            <h:outputLabel for="nazwisko" value="Nazwisko: " />  
            <p:inputText id="nazwisko" value="#{prowadzacyBean.nazwisko}" required="true" label="Nazwisko">    
            </p:inputText>
             <h:outputLabel for="login" value="Login: " />  
            <p:inputText id="login" value="#{prowadzacyBean.login}" required="true" label="Login">    
            </p:inputText>
            
             <h:outputLabel for="daneKontaktowe" value="DaneKontaktowe: " />  
            <p:inputText id="daneKontaktowe" value="#{prowadzacyBean.daneKontaktowe}" required="true" label="DaneKontaktowe">    
            </p:inputText> 
            <h:outputLabel for="stronaDomowa" value="StronaDomowa: " />  
            <p:inputText id="stronaDomowa" value="#{prowadzacyBean.stronaDomowa}" required="true" label="StronaDomowa">    
            </p:inputText>
             <h:outputText value="Wpisz haslo: " />
            <p:password value="#{prowadzacyBean.password}" inline="true" />                        
             <p:commandButton value="Dodaj Prowadzacego" actionListener="#{prowadzacyBean.dodajProwadzacego}" ajax="false" />              
        </h:panelGrid>  
    </p:panel> 
    </h:form>
    <h:form>
 
   <h2>Dopisz przedmiot/Wypisz z przedmiotu</h2>
   <p:selectOneMenu value="#{prowadzacyBean.przedmiotId}" style="width:400px">
    		<f:selectItem itemLabel="Wybierz Przedmiot do Dopisania" itemValue="" />  
            <f:selectItems value="#{przedmiotBean.wszystkiePrzedmioty}"  
                var="rekord" itemLabel="#{rekord.nazwa} #{rekord.inneDane}" itemValue="#{rekord.id}" />  
        </p:selectOneMenu>
        <p:commandButton value="Przypisz przedmiot do mnie" actionListener="#{prowadzacyBean.przypiszDoPrzedmiotu}" ajax="false" />
        <p:commandButton value="Wypisz" actionListener="#{prowadzacyBean.wypiszZPrzedmiotu}" ajax="false" />      
    </h:form>
    
		<h:form>
			<p:dataTable value="#{prowadzacyBean.mojePrzedmioty}"  var="wyp">
			<p:column  style="width:50px">
					<f:facet name="header">
                    Przedmioty Prowadzacego
            </f:facet>
					<h:outputText value="#{wyp.nazwa}" />
				</p:column>

				</p:dataTable>
		</h:form>
		
		<h:form>
			<p:dataTable value="#{prowadzacyBean.mojeZajecia}"  var="blabla">
			<f:facet name="header">
                    Zajecia prowadzacego
            </f:facet>
			<p:column  style="width:50px">
					<f:facet name="header">
                    Data
            </f:facet>
					<h:outputText value="#{blabla.data}">
					<f:convertDateTime pattern="HH:mm dd-MM-yyyy" />
					</h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
                    Przedmiot
            </f:facet>
					<h:outputText value="#{blabla.przedmiot.nazwa}" />
				</p:column>
				<p:column>
					<f:facet name="header">
                    Grupa_id
            </f:facet>
					<h:outputText value="#{blabla.grupa.informacje}" />
				</p:column>

				</p:dataTable>
		</h:form>
		
		<h:form>
			<p:dataTable value="#{prowadzacyBean.mojeAktualnieOdbywajaceSieZajecia}"  var="aktOdbZaj">
			<f:facet name="header">
                    Aktualnie odbywają się
            </f:facet>
			<p:column  style="width:50px">
					<f:facet name="header">
                    Data
            </f:facet>
					<h:outputText value="#{aktOdbZaj.data}">
					<f:convertDateTime pattern="HH:mm dd-MM-yyyy" />
					</h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
                    Przedmiot
            </f:facet>
					<h:outputText value="#{aktOdbZaj.przedmiot.nazwa}" />
				</p:column>
				<p:column>
					<f:facet name="header">
                    Grupa_id
            </f:facet>
					<h:outputText value="#{aktOdbZaj.grupa.informacje}" />
				</p:column>
				
				<p:column>
					<f:facet name="header">
                    Obecności
                    </f:facet>
				 <p:commandButton value="Obecości" onclick="lazyload()"
                     actionListener="#{prowadzacyBean.loadAjaxObecnosci}">  
         	<f:setPropertyActionListener value="#{aktOdbZaj}" target="#{prowadzacyBean.wybraneZajecia}" />  
         </p:commandButton> 
         </p:column> 

				</p:dataTable>
			</h:form>
				<h:form> 
				<p:remoteCommand name="lazyload" oncomplete="dlg.show()" actionListener="#{prowadzacyBean.canILoad}" />
<p:dialog id="dialog" header="Potwierdzanie obecności" widgetVar="dlg">  
     
  
        <p:dataTable id="dataOb" value="#{prowadzacyBean.obecnosciNaWybranych}" var="obecnosc"  render="#{prowadzacyBean.shouldRender == true}">
        <p:column>
        <f:facet name="header">
             Imie Nazwisko
        </f:facet>
        <h:outputText value="#{obecnosc.student.imie} #{obecnosc.student.nazwisko}" />
        </p:column>
        <p:column>
        <f:facet name="header">
                    Obecny
        </f:facet>
         <p:selectBooleanCheckbox value="#{prowadzacyBean.obecny}">  
            <p:ajax />  
        </p:selectBooleanCheckbox>
        </p:column>
             
         </p:dataTable>  
    
    
    
</p:dialog>  
		</h:form> 
		
				

   </ui:define>
</ui:composition>
   